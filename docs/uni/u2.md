<html><div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>uni-app实现了一套代码，同时运行到多个平台。支持iOS模拟器、Android模拟器、H5、微信开发者工具、支付宝小程序Studio、百度开发者工具、字节跳动开发者工具</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190307132327001-213756040.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 18pt">工具安装</span></strong></p>
<p>开发uni-app需要安装HBuilder X.<a href="http://www.dcloud.io/hbuilderx.html" target="_blank">下载地址</a>。<a href="http://www.dcloud.io/hbuilderx.html" target="_blank"><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190307132435888-1392093562.png" alt=""></a></p>
<p>&nbsp;</p>
<p>下载成功后直接解压即可</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190307132810032-1469178924.png" alt=""></p>
<p>简单的配置一下开发偏好：</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190307132929460-1941258458.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 18pt">&nbsp;创建第一个uni-app</span></strong></p>
<p><span style="font-size: 14px">点击左上角【文件】&gt;&gt;【新建】&gt;&gt;【项目】，选择uni-app模板。</span></p>
<p><span style="font-size: 14px"><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190307133417268-2066409206.png" alt="" class="medium-zoom-image"></span></p>
<p>&nbsp;</p>
<p>uni-app目录结构</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190307134013876-188390032.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>目录结构基本和小程序的目录结构相似，只是多了个基础组件的文件夹；</p>
<p>uni-app有自己的插件库，直接点击安装即可，而且，它也支持npm包管理，点击【工具】&gt;&gt; 【插件安装】即可配置</p>
<p>&nbsp;</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320115522036-1601620891.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>好了，基本的安装工作就是这么多，下面我们看一下如何调试</p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 18pt">调试</span></strong></p>
<p><span style="font-size: 14px"><strong>浏览器</strong></span></p>
<p><span style="font-size: 14px">uni-app支持多个端同时调试，这也是它最便捷的地方，首先看一下浏览器端的调试：</span></p>
<p><span style="font-size: 14px">调试之前我们首先要配置一下你的浏览器的安装路径，默认HBuilder是检测不到的</span></p>
<p><span style="font-size: 14px">点击【运行】&gt;&gt;【运行到浏览器】&gt;&gt; 【配置web服务器】</span></p>
<p><span style="font-size: 14px"><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190317164503103-1918420145.png" alt="" class="medium-zoom-image"></span></p>
<p>&nbsp;</p>
<p>把浏览器的安装路径粘贴在里边即可</p>
<p>然后就能够调试了</p>
<p><span style="font-size: 14px"><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190317164158067-1880221665.png" alt="" class="medium-zoom-image"></span></p>
<p>&nbsp;</p>
<p>&nbsp;然后我们看一下真机</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>手机调试</strong></p>
<p>以安卓手机为例，需要开启开发者模式才能进行调试，方法如下：</p>
<p>打开【设置】&gt;&gt; 【关于本机】，找到【软件版本】，连续点击五次，即可开启开发者选项</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320113740338-1173208596.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>开发者选项的开启和关闭在【设置】 &gt;&gt; 【高级设置】&gt;&gt; 【开发者选项】，如下：</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320113920252-1963454477.png" alt="" class="medium-zoom-image"></p>
<p>进入打开 【USB调试】，插上数据线连接手机，然后就能真机调试了。中途可能要进行一次授权，点击确认即可，授权成功后你的手机上会安装一个HBuilder app，你之后再开发环境中做的所有效果都会渲染到这个app中</p>
<p>&nbsp;</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320114112562-763622699.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>点击，选择自己的手机即可调试</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320114508758-1210116307.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>iphone手机更加简单，连接手机后直接运行，他会报错，然后在手机设置一下就行了，步骤如下：</p>
<p>【设置】&gt;&gt; 【通用】&gt;&gt; 【设备管理】,信任一下HBuilder即可。</p>
<p>&nbsp;</p>
<p><strong>小程序调试：</strong></p>
<p>点击 【运行】 &gt;&gt; 【运行到小程序模拟器】&gt;&gt; 【运行设置】</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320114551699-762922019.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>打开后把微信开发者工具的安装路径粘贴多对应的地址栏即可</p>
<p>&nbsp;<img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320114734206-1111016709.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>需要注意两点： 1）微信开发者工具必须是官方最新版。 2）微信开发者工具需要授权，方法如下：</p>
<p>打开微信开发者工具，点击设置图标</p>
<p>&nbsp;</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320114947161-59184337.png" alt="" class="medium-zoom-image"></p>
<p>选择【安全】，服务端口选择开启</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320115006280-1082150682.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>然后即可进行微信小程序调试</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320115119825-46251091.png" alt="" class="medium-zoom-image"></p>
<p>*百度，支付宝，字节跳动小程序步骤和微信类似</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18pt"><strong>uni-app项目实战</strong></span></p>
<p><span style="font-size: 14px">我做了一个简单的demo，项目结构如下：</span></p>
<p>&nbsp;</p>
<p><span style="font-size: 14px"><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320142329969-286489152.png" alt="" class="medium-zoom-image"></span></p>
<p>&nbsp;</p>
<p>我把每个不同的功能分了不同的文件夹，相当于不同的层（每个文件夹里可以根据业务在进行细分）,请求工具我用的uni-app官方的api（uni.request），在此基础上我进行了简单的二次封装，代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="//common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> uni-app请求封装</span>
<span style="color: rgba(0, 0, 0, 1)">
export </span><span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)"> class Request {
    http (router,data</span>=<span style="color: rgba(0, 0, 0, 1)">{},method) {
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 基础地址</span>
        let path = 'http://mock.allhome.com.cn/mock/5c91b03a2add03001024c420/uni'<span style="color: rgba(0, 0, 0, 1)">;
        </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 返回promise</span>
        <span style="color: rgba(0, 0, 255, 1)">return</span> <span style="color: rgba(0, 0, 255, 1)">new</span> Promise((resolve,reject) =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 请求</span>
<span style="color: rgba(0, 0, 0, 1)">            uni.request({
                url: `${path}${router}`,
                data: data,
                method:method,
                success: (res) </span>=&gt;<span style="color: rgba(0, 0, 0, 1)"> {
                    </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 将结果抛出</span>
<span style="color: rgba(0, 0, 0, 1)">                    resolve(res.data)
                }
            })
        })    
    }
}</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="//common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div>
<p>这个类接受三个参数，第一个是后端的路由地址，第二个是需要给后端传的实体，第三个是请求方法，该类返回一个Promise，请求成功后将结果抛出，最后在api.js文件中引用并实例化，代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="//common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div>
<pre>import Request from '../static/js/request.js'<span style="color: rgba(0, 0, 0, 1)">;
let request </span>= <span style="color: rgba(0, 0, 255, 1)">new</span><span style="color: rgba(0, 0, 0, 1)"> Request().http



export </span><span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)"> {
    getJobList: </span><span style="color: rgba(0, 0, 255, 1)">function</span><span style="color: rgba(0, 0, 0, 1)"> () {
        </span><span style="color: rgba(0, 0, 255, 1)">return</span> request('/jobList',{},'GET'<span style="color: rgba(0, 0, 0, 1)">)
    }
}</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="//common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div>
<p>然后就可以在组件里取结果了，代码如下：</p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="//common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div>
<pre>import api from '../../api/api.js'<span style="color: rgba(0, 0, 0, 1)">;

export </span><span style="color: rgba(0, 0, 255, 1)">default</span><span style="color: rgba(0, 0, 0, 1)"> {
        data() {
            </span><span style="color: rgba(0, 0, 255, 1)">return</span><span style="color: rgba(0, 0, 0, 1)"> {
                listArr: []
            }
        },
        onLoad() {
            </span><span style="color: rgba(0, 128, 0, 1)">//</span><span style="color: rgba(0, 128, 0, 1)"> 请求职位列表</span>
            api.getJobList().then(res =&gt;<span style="color: rgba(0, 0, 0, 1)"> {
                </span><span style="color: rgba(0, 0, 255, 1)">this</span>.listArr =<span style="color: rgba(0, 0, 0, 1)"> res.data
            })
        }
    }</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="//common.cnblogs.com/images/copycode.gif" alt="复制代码"></a></span></div></div>
<p>&nbsp;</p>
<p>&nbsp;好了，基本的情况就是 这么多，最后是调试结果：</p>
<p><img src="https://img2018.cnblogs.com/blog/1412010/201903/1412010-20190320143147192-1035641006.png" alt="" class="medium-zoom-image"></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 18pt">该项目代码我已经上传到了gitlab上：<a href="https://github.com/qisi007/uni-app-demo/tree/master" target="_blank">gitlab项目地址&nbsp;</a>（内含uni-app/ts框架）</span></strong></p>
<p>&nbsp;</p>
<p><span style="font-size: 14px">好了，基本的安装和配置过程就这么多了，接下来的几个月我会继续踩坑，期待我后面的博客吧！</span></p>
<p>&nbsp;</p>
<p>&nbsp;更多前端资料关注公众号【凤凰城下的小码农】领取</p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt">欢迎关注我的开源项目，<a href="https://github.com/qisi007/react-admin-plus" data-pjax="#js-repo-pjax-container">react-admin-plus</a>，欢迎star</span></strong></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt">我的个人主页，<a href="https://www.liuguisheng.vip/" target="_blank">地址</a></span></strong></p>
<p>&nbsp;</p>
</div></html>